---
title: Merge Material
weight: 25
---

# Merge Material

手動でテクスチャを並べることにより、同じシェーダーを使用するマテリアルを1つのマテリアルに統合します。

このコンポーネントは、SkinnedMeshRendererコンポーネントのあるGameObjectに追加してください。(分類: [Modifying Edit Skinned Mesh Component](../../component-kind/edit-skinned-mesh-components#modifying-component))

このコンポーネントは、ShaderInformationが提供されているシェーダーをサポートしています。\
AvatarOptimizerは、Standard Shader、VRChat SDKのToonLitとToonStandard、lilToonなどの著名なシェーダーのShaderInformationを組み込んで提供していますが、シェーダーの作者はShaderInformationを提供することにより、このコンポーネントでの動作サポートを追加できます。

このコンポーネントは新しいマテリアルを作成するため、このコンポーネントで統合されたマテリアルを使用しているマテリアルスロットは`AAO Merge Skinned Mesh`コンポーネントで統合されません。\
別々のメッシュで使用されているマテリアルを纏めて統合したい場合は、`AAO Merge Skinned Mesh`コンポーネントのあるGameObjectと同じGameObjectに`Merge Material`コンポーネントを追加する必要があります。

## 設定 {#settings}

`統合したマテリアルを追加` をクリックして、マテリアル統合グループを追加します。
マテリアル統合グループ内のマテリアルは全て同じシェーダである必要があり、マテリアル統合グループごとに1つのマテリアルが生成されます。

それぞれのマテリアル統合グループにおいて、`統合対象を追加`ボタンがあります。 このボタンをクリックすると、統合対象のマテリアルが追加されます。\
また、それぞれの統合対象のマテリアルについて、テクスチャを配置する位置を設定する必要があります。
テクスチャを配置したい位置に合わせるために、X, Y, W, Hの値を変更してください。

UVベースのテクスチャ以外のプロパティ（MatCapやDither、ノイズのようなスクリーンスペーステクスチャを含む）については、`参照マテリアル`に設定されている値が使用され、設定されていない場合は最初の統合対象マテリアルの値が使用されます。

それぞれのマテリアル統合グループについて、テクスチャ設定があります。
生成される全てのテクスチャのサイズとフォーマットを指定でき、テクスチャプロパティ名ごとに異なる設定を使用することも出来ます。

![component.png](component.png)

## 制限事項 {#limitations}

- このコンポーネントは、マテリアルを置き換えるアニメーションには対応していません。

- このコンポーネントは、マテリアルで使用されているテクスチャ上の参照位置が使用時に変化しない必要があります。\
そのため、ParallaxやUVスクロールのような、テクスチャ上の参照位置が使用時に変化するようなシェーダ機能はサポートされていません。
